Q1. Where are we instantiating instances of the Property class?

Instances of the property class are instantiated in console.rb.


Q2. Where are we defining the SQL that enables us to save the ruby Property object into the database?

The SQL that enables us to save the ruby Property object in the database is defined in properties.sql.


Q3. In console.rb, which lines modify the database?

Lines 4, 13, 22, 31 and 33 modify the database.


Q4. Why do we not define the id of a Property object at the point we instantiate it (‘new it up’)?

We do not define the id of a Property object at the point it is instantiated because it has bee set as a PRIMARY KEY with an SERIAL4 datatype in proerties.sql, which means it is defined automatically on creation to avoid duplicate keys.


Q5. Where and how do we assign the id (that is generated by the database) to the ruby Property object?

We assign the database generated id to the Property object within the initialize (or builder method) in property.rb using the syntax: @id = options['id'].to_i if options['id']


Q6. Why do we put a guard (an if clause) on the @id attribute in the constructor?

To ensure each primary key is unique.


Q7. Why are some of the CRUD actions represented by instance methods, and others by class methods?

An instance method must be used on an instance of an object that has been created, but once it is defined, it can be used on any object of that class.  A class method belongs to a class but does not need an instance of an object to exist.


Q8. What type of data structure is returned by calls to db.exec_prepared()? In the save method, how do we access the id from the returned data structure?

The id of the object being added to the db is returned, it can be accessed


Q9. Why do we use prepared statements when performing database operations?

A prepared statement can protect against SQL injection attacks by sanitising the input.
They allow the addition of apostrophes in text values.
They greatly increase the efficiency of mass updates and saves.


Q 10

The find by id method takes in the primary key of an object as an argument.  The find by address takes in an address as a string.


Q 11

both the find by id and find by address methods return a hash with all of the property details if the property is found and nil if it isn't.
